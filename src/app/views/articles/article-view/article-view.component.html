<div class="">
  <div fxLayout="row wrap">
    <div fxFlex="100" fxFlex.gt-md="75" fxFlex.md="75">
      <mat-card class="p-24" *ngIf="article$ | async as article">
        <div fxLayout="row wrap">
          <div fxFlex="100">
            <mat-card-title>{{ article.title }}</mat-card-title>
            <p [innerHtml]="article.content"></p>
          </div>

          <h3> Block de commentaire</h3>
          <div fxFlex="100" *ngFor="let commentaire of article.commentaires">
            <p [innerHtml]="commentaire.content"></p>
          </div>
          <div class="comments">
            <ul *ngIf="article.commentaires?.length>0">
              <li *ngFor="let post of article.commentaires; let i = index;">
                <div class="col-12 col-sm-12 comment-container">
                  <p>{{post.content}}</p>
                  <div class="actions"><span>{{post.datePublication | date: 'dd/MM/yyyy'}}</span><span
                      class="divider"></span><button class="btn btn-sm btn-info" (click)="replyComment(i)">
                      Reply
                    </button><span class="divider"></span><button class="btn btn-sm btn-danger"
                      (click)="removeComment(i)"><i class="fa fa-trash"></i></button></div>
                  <div class="childCommentBox">
                    <div datacontainer></div>
                    <ul *ngIf="post?.replyComment?.length>0">
                      <li *ngFor="let rl of post.replyComment">
                        <div class="col-12 col-sm-12 comment-container">
                          <p>{{rl.commentTxt}}</p>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </li>
            </ul>
          </div>
          <form [formGroup]="childForm" (ngSubmit)="onSubmit()">
            <div class="form-group"><textarea class="form-control" placeholder="Leave a comment"
                formControlName="comment"
                [ngClass]="{ 'is-invalid': submitted && childForm.controls['comment'].errors }"></textarea>
              <div class="invalid-feedback" *ngIf="submitted && childForm.controls['comment'].errors">
                <div *ngIf="childForm.controls['comment'].errors.required">Comment is required</div>
                <div *ngIf="childForm.controls['comment'].errors.minlength">Comment must be at least 6 characters</div>
                <div *ngIf="childForm.controls['comment'].errors.maxlength">Comment must be at most 100 characters</div>
              </div>
            </div>
            <div class="form-group"><button type="submit" class="btn btn-success">Post Comment</button></div>
          </form>
        </div>
      </mat-card>

    </div>

    <div fxFlex="100" fxFlex.gt-md="25" fxFlex.md="25">
      <mat-card>
        <div class="mat-heading-label">Articles Connexes</div>

        <p class="m-12">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Est quibusdam
          dolor, sint, labore ipsam eveniet dolorum mollitia accusamus eum earum
          laboriosam recusandae nemo nulla reiciendis pariatur obcaecati? Vero,
          dicta saepe.
        </p>
      </mat-card>
    </div>
  </div>
</div>