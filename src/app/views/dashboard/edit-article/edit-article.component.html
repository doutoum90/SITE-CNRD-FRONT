<div class="">
  <div fxLayout="row wrap">
    <div fxFlex="100" fxFlex.gt-md="100" fxFlex.md="100">
      <mat-card class="p-24">
        <div fxLayout="row wrap">
          <div fxFlex="100">
            <mat-horizontal-stepper [linear]="true">
              <mat-step [stepControl]="firstFormGroup">
                <form [formGroup]="firstFormGroup">
                  <ng-template matStepLabel>Remplir le titre</ng-template>
                  <mat-form-field class="pt-16 pb-16">
                    <input matInput placeholder="Last name, First name" formControlName="postTitle" required />
                  </mat-form-field>
                  <div>
                    <button mat-raised-button color="primary" matStepperNext>
                      {{"NEXT" | translate}}
                    </button>
                  </div>
                </form>
              </mat-step>
              <!-- <mat-step [stepControl]="secondFormGroup">
                <form [formGroup]="secondFormGroup">
                  <ng-template matStepLabel>Fill out your address</ng-template>
                  <mat-form-field class="pt-16 pb-16">
                    <input
                      matInput
                      placeholder="Address"
                      formControlName="secondCtrl"
                      required
                    />
                  </mat-form-field>

                  <div fxLayout="row">
                    <button mat-raised-button color="accent" matStepperPrevious>
                       {{"BACK" | translate}}
                    </button>
                    <span fxFlex="8px"></span>
                    <button mat-raised-button color="primary" matStepperNext>
                      {{"NEXT" | translate}}
                    </button>
                  </div>
                </form>
              </mat-step> -->

              <mat-step [stepControl]="thirdFormGroup">
                <form [formGroup]="thirdFormGroup">
                  <ng-template matStepLabel>Add your text here</ng-template>
                  <mat-card class="p-0">
                    <mat-card-content class="p-0">
                      <quill-editor name="content" formControlName="content" ngDefaultControl
                        [(ngModel)]="editorContentData" theme="snow" (onContentChanged)="onContentChanged()"
                        onSelectionChanged="onSelectionChanged()"></quill-editor>
                    </mat-card-content>
                  </mat-card>

                  <mat-card class="p-0">
                    <mat-card-content class="p-0">
                      <quill-editor name="shortContent" formControlName="shortContent" ngDefaultControl
                        [(ngModel)]="editorShortContentData" theme="snow" (onContentChanged)="onContentChanged()"
                        onSelectionChanged="onSelectionChanged()"></quill-editor>
                    </mat-card-content>
                  </mat-card>
                  <div fxLayout="row">
                    <button mat-raised-button color="accent" matStepperPrevious>
                      {{"BACK" | translate}}
                    </button>
                    <span fxFlex="8px"></span>
                    <button mat-raised-button color="primary" matStepperNext>
                      {{"NEXT" | translate}}
                    </button>
                  </div>
                </form>
              </mat-step>

              <mat-step [stepControl]="foorthFormGroup">
                <form [formGroup]="foorthFormGroup">
                  <ng-template matStepLabel>Upload des fichiers</ng-template>
                  <mat-card class="p-0">
                    <mat-card-title class="">
                      <div class="card-title-text">File upload</div>
                      <mat-divider></mat-divider>
                    </mat-card-title>
                    <mat-card-content>
                      <div class="mb-16">
                        <p>Multiple</p>
                        <input type="file" ng2FileSelect formControlName="files" [uploader]="uploader" multiple /><br />
                      </div>

                      <div class="mb-16">
                        <div ng2FileDrop [ngClass]="{ 'dz-file-over': hasBaseDropZoneOver }"
                          (fileOver)="fileOverBase($event)" [uploader]="uploader" class="fileupload-drop-zone mb-24">
                          Drop file here
                        </div>
                      </div>

                      <table class="default-table mat-box-shadow mb-24" style="width: 100%">
                        <thead>
                          <tr>
                            <th width="30%">Name</th>
                            <th>Size</th>
                            <th>Progress</th>
                            <th>Status</th>
                            <th>Actions</th>
                          </tr>
                        </thead>
                        <tbody *ngIf="uploader.queue.length; else tableNoData">
                          <tr *ngFor="let item of uploader.queue">
                            <td>{{ item?.file?.name }}</td>
                            <td nowrap>
                              {{
                              item?.file?.size / 1024 / 1024 | number: ".2"
                              }}
                              MB
                            </td>
                            <td>
                              <div class="progress" style="margin-bottom: 0">
                                <div class="progress-bar" role="progressbar" [ngStyle]="{ width: item.progress + '%' }">
                                </div>
                                <mat-progress-bar class="" color="primary" mode="determinate" [value]="item.progress">
                                </mat-progress-bar>
                              </div>
                            </td>
                            <td class="">
                              <mat-icon *ngIf="item.isSuccess" color="primary">check</mat-icon>
                              <mat-icon *ngIf="item.isCancel" color="accent">cancel</mat-icon>
                              <mat-icon *ngIf="item.isError" color="warn">error</mat-icon>
                            </td>
                            <td nowrap>
                              <button mat-raised-button color="primary" class="mx-4" (click)="item.upload()" [disabled]="
                                  item.isReady ||
                                  item.isUploading ||
                                  item.isSuccess
                                ">
                                Upload
                              </button>
                              <button mat-raised-button color="accent" class="mx-4" (click)="item.cancel()"
                                [disabled]="!item.isUploading">
                                Cancel
                              </button>

                              <button mat-raised-button color="warn" class="mx-4" (click)="item.remove()">
                                Remove
                              </button>
                            </td>
                          </tr>
                        </tbody>
                        <ng-template #tableNoData>
                          <p [ngStyle]="{ padding: '0 1.2rem' }">
                            Queue is empty
                          </p>
                        </ng-template>
                      </table>

                      <div>
                        <p>Queue progress:</p>
                        <div class="progress mb-16">
                          <mat-progress-bar class="" color="primary" mode="determinate" [value]="uploader.progress">
                          </mat-progress-bar>
                        </div>

                        <button mat-raised-button color="primary" class="mx-4" (click)="uploader.uploadAll()"
                          [disabled]="!uploader.getNotUploadedItems().length">
                          Upload all
                        </button>

                        <button mat-raised-button color="accent" class="mx-4" (click)="uploader.cancelAll()"
                          [disabled]="!uploader.isUploading">
                          Cancel all
                        </button>

                        <button mat-raised-button color="warn" class="mx-4" (click)="uploader.clearQueue()"
                          [disabled]="!uploader.queue.length">
                          Remove all
                        </button>
                      </div>
                    </mat-card-content>
                  </mat-card>

                  <div fxLayout="row">
                    <button mat-raised-button color="accent" matStepperPrevious>
                      {{"BACK" | translate}}
                    </button>
                    <span fxFlex="8px"></span>
                    <button mat-raised-button color="primary" matStepperNext>
                      {{"NEXT" | translate}}
                    </button>
                  </div>
                </form>
              </mat-step>

              <mat-step>
                <ng-template matStepLabel>Done</ng-template>
                <div>
                  <mat-icon class="pt-16" [style.fontSize]="'36px'">check</mat-icon>
                </div>
                <div class="pb-16 mb-16">You Are Done.</div>
                <div fxLayout="row">
                  <button mat-raised-button color="accent" matStepperPrevious>
                    {{"BACK" | translate}}
                  </button>
                  <span fxFlex="8px"></span>
                  <button mat-raised-button color="primary" (click)="submit()">
                    {{"SUBMIT" | translate}}
                  </button>
                </div>
              </mat-step>
            </mat-horizontal-stepper>
          </div>
        </div>
      </mat-card>
    </div>
  </div>
</div>